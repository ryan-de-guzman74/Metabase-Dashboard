
# ==========================================
# Global Local DB (Metabase container MySQL)
# ==========================================
if [ "$ENVIRONMENT" = "docker" ]; then
  LOCAL_HOST="mysql"
else
  LOCAL_HOST="127.0.0.1"
fi
LOCAL_PORT=3306
LOCAL_USER=root
LOCAL_PASS=rootpass

# Wait for local MySQL connectivity
echo "üîç Checking local MySQL connection..."
until mysql -h "$LOCAL_HOST" -u "$LOCAL_USER" -p"$LOCAL_PASS" -e "SELECT 1;" >/dev/null 2>&1; do
  echo "‚ö†Ô∏è Waiting for local MySQL ($LOCAL_HOST) to be ready..."
  sleep 5
done
echo "‚úÖ Local MySQL connection established."


# ==========================================
# Remote Client WooCommerce Databases
# ==========================================
declare -A REMOTE_DBS

REMOTE_DBS["TR"]="152.53.183.92,icgiyimist,bi-dashboard,5rB4gGW6K76tu6A2gWXs"
REMOTE_DBS["DE"]="37.120.162.154,deluxerie,bi-dashboard,5rB4gGW6K76tu6A2gWXs"
REMOTE_DBS["FR"]="152.53.181.72,deluxerie,bi-dashboard,5rB4gGW6K76tu6A2gWXs"
REMOTE_DBS["DK"]="152.53.183.157,deluxerie,bi-dashboard,5rB4gGW6K76tu6A2gWXs"
REMOTE_DBS["NL"]="152.53.178.137,deluxerie,bi-dashboard,5rB4gGW6K76tu6A2gWXs"
REMOTE_DBS["BE"]="89.58.12.43,deluxerie,bi-dashboard,5rB4gGW6K76tu6A2gWXs"
REMOTE_DBS["AT"]="152.53.180.221,deluxerie,bi-dashboard,5rB4gGW6K76tu6A2gWXs"
REMOTE_DBS["BEFRLU"]="116.203.25.229,deluxerie-fr,bi-dashboard,5rB4gGW6K76tu6A2gWXs"
REMOTE_DBS["ES"]="46.232.250.63,deluxerie,bi-dashboard,5rB4gGW6K76tu6A2gWXs"
REMOTE_DBS["IT"]="152.53.180.42,deluxerie-it,bi-dashboard,5rB4gGW6K76tu6A2gWXs"
REMOTE_DBS["SE"]="46.232.248.237,deluxerie,bi-dashboard,5rB4gGW6K76tu6A2gWXs"
REMOTE_DBS["FI"]="152.53.183.42,deluxerie,bi-dashboard,5rB4gGW6K76tu6A2gWXs"
REMOTE_DBS["PT"]="152.53.185.13,deluxerie,bi-dashboard,5rB4gGW6K76tu6A2gWXs"
REMOTE_DBS["CZ"]="152.53.182.83,deluxerie,bi-dashboard,5rB4gGW6K76tu6A2gWXs"
REMOTE_DBS["HU"]="37.120.173.234,deluxerie,bi-dashboard,5rB4gGW6K76tu6A2gWXs"
REMOTE_DBS["RO"]="152.53.238.255,deluxerie,bi-dashboard,5rB4gGW6K76tu6A2gWXs"
REMOTE_DBS["SK"]="37.120.173.183,deluxerie,bi-dashboard,5rB4gGW6K76tu6A2gWXs"
REMOTE_DBS["UK"]="152.53.180.50,deluxerie,bi-dashboard,5rB4gGW6K76tu6A2gWXs"

# Laravel Returns
REMOTE_DBS["RETURNS"]="5.75.159.109,returnPortal,bi-dashboard,5rB4gGW6K76tu6A2gWXs"

# OPS (Marketplace)
REMOTE_DBS["OPS"]="188.68.58.232,mbu-trade-ops,bi-dashboard,5rB4gGW6K76tu6A2gWXs"

# PIM (COGS / Master)
REMOTE_DBS["PIM"]="188.68.58.232,mbu-trade-pim,bi-dashboard-pim,5rB4gGW6K76tu6A2gWXs"


# ==========================================
# Currency exchange rates to EUR (baseline)
# ==========================================
declare -A EXCHANGE_RATES
EXCHANGE_RATES["TR"]=0.028      # TRY ‚Üí EUR
EXCHANGE_RATES["DE"]=1.000      # EUR
EXCHANGE_RATES["FR"]=1.000      # EUR
EXCHANGE_RATES["DK"]=0.134      # DKK ‚Üí EUR
EXCHANGE_RATES["NL"]=1.000
EXCHANGE_RATES["BE"]=1.000
EXCHANGE_RATES["BEFRLU"]=1.000
EXCHANGE_RATES["AT"]=1.000
EXCHANGE_RATES["ES"]=1.000
EXCHANGE_RATES["IT"]=1.000
EXCHANGE_RATES["SE"]=0.088      # SEK ‚Üí EUR
EXCHANGE_RATES["FI"]=1.000
EXCHANGE_RATES["PT"]=1.000
EXCHANGE_RATES["CZ"]=0.041      # CZK ‚Üí EUR
EXCHANGE_RATES["HU"]=0.0026     # HUF ‚Üí EUR
EXCHANGE_RATES["RO"]=0.200      # RON ‚Üí EUR
EXCHANGE_RATES["SK"]=1.000
EXCHANGE_RATES["UK"]=1.170      # GBP ‚Üí EUR
EXCHANGE_RATES["OPS"]=1.000

